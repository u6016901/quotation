{"ast":null,"code":"var _jsxFileName = \"C:\\\\webdev\\\\mt\\\\react-quotation\\\\src\\\\QuotationTable.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { Container, Row, Col, Table, Button } from \"react-bootstrap\";\nimport { FaTrash } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst styles = {\n  textCenter: {\n    textAlign: \"center\"\n  },\n  textRight: {\n    textAlign: \"right\"\n  }\n};\n\nfunction QuotationTable(_ref) {\n  _s();\n\n  let {\n    data,\n    setDataItems\n  } = _ref;\n  const [dataRows, setDataRows] = useState();\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [calDiscount, setCalDiscount] = useState(0);\n  useEffect(() => {\n    let sum = 0;\n    let discount = 0;\n    let disTol = 0;\n    const z = data.map((v, i) => {\n      let amount = v.qty * v.ppu;\n      let outDis = amount - v.dis;\n      sum += amount;\n      disTol += v.dis * 1;\n      if (sum < 0) sum = 0;\n      discount += outDis;\n      if (discount < 0) discount = 0;\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(FaTrash, {\n            onClick: () => deleteClick(i)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          style: styles.textCenter,\n          children: v.qty\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: v.item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          style: styles.textRight,\n          children: numberWithCommas(v.ppu)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          style: styles.textRight,\n          children: numberWithCommas(amount)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          style: styles.textRight,\n          children: numberWithCommas(v.dis)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this);\n    });\n    setDataRows(z);\n    setTotalPrice(disTol);\n    setCalDiscount(discount);\n  }, [data]);\n\n  const deleteClick = i => {\n    data.splice(i, 1);\n    setDataItems([...data]);\n  };\n\n  const numberWithCommas = x => {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  };\n\n  const clearTable = () => {\n    setDataItems([]);\n    setDataRows([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Kasidit's Quotation Table\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        style: styles.textRight,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: clearTable,\n          variant: \"dark\",\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Qty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Price/Unit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Discount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: dataRows\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            colSpan: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.textCenter,\n            children: \"Total Discount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.textRight,\n            children: numberWithCommas(totalPrice)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            colSpan: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.textCenter,\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.textRight,\n            children: numberWithCommas(calDiscount)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(QuotationTable, \"s2pQChzVt7i671upYlem0/CLKsY=\");\n\n_c = QuotationTable;\nexport default QuotationTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuotationTable\");","map":{"version":3,"sources":["C:/webdev/mt/react-quotation/src/QuotationTable.js"],"names":["useState","useRef","useEffect","Container","Row","Col","Table","Button","FaTrash","styles","textCenter","textAlign","textRight","QuotationTable","data","setDataItems","dataRows","setDataRows","totalPrice","setTotalPrice","calDiscount","setCalDiscount","sum","discount","disTol","z","map","v","i","amount","qty","ppu","outDis","dis","deleteClick","item","numberWithCommas","splice","x","toString","replace","clearTable"],"mappings":"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","sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\nimport { Container, Row, Col, Table, Button } from \"react-bootstrap\";\r\n\r\nimport { FaTrash } from 'react-icons/fa';\r\n\r\nconst styles = {\r\n  textCenter: { textAlign: \"center\" },\r\n  textRight: { textAlign: \"right\" },\r\n};\r\n\r\nfunction QuotationTable({ data, setDataItems }) {\r\n  const [dataRows, setDataRows] = useState();\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [calDiscount, setCalDiscount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let sum = 0;\r\n    let discount = 0;\r\n    let disTol = 0;\r\n    const z = data.map((v, i) => {\r\n      let amount = v.qty * v.ppu;\r\n      let outDis = amount - v.dis;\r\n      sum += amount;\r\n      disTol += v.dis * 1;\r\n      if (sum < 0) sum = 0;\r\n      discount += outDis;\r\n      if (discount < 0) discount = 0;\r\n      return (\r\n        <tr key={i}>\r\n          <td><FaTrash onClick={() => deleteClick(i)}/></td>\r\n          <td style={styles.textCenter}>{v.qty}</td>\r\n          <td>{v.item}</td>\r\n          <td style={styles.textRight}>{numberWithCommas(v.ppu)}</td>\r\n          <td style={styles.textRight}>{numberWithCommas(amount)}</td>\r\n          <td style={styles.textRight}>{numberWithCommas(v.dis)}</td>\r\n        </tr>\r\n      );\r\n    });\r\n\r\n    setDataRows(z);\r\n    setTotalPrice(disTol);\r\n    setCalDiscount(discount);\r\n  }, [data]);\r\n\r\n  const deleteClick = (i) => {\r\n    data.splice(i,1)\r\n    setDataItems([...data])\r\n  }\r\n\r\n  const numberWithCommas = (x) => {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  };\r\n\r\n  const clearTable = () => {\r\n    setDataItems([]);\r\n    setDataRows([]);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n          <h1>Kasidit's Quotation Table</h1>\r\n        </Col>\r\n        <Col style={styles.textRight}>\r\n          <Button onClick={clearTable} variant=\"dark\">\r\n            Clear\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th>Qty</th>\r\n            <th>Item</th>\r\n            <th>Price/Unit</th>\r\n            <th>Amount</th>\r\n            <th>Discount</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{dataRows}</tbody>\r\n        <tfoot>\r\n        <tr>\r\n          <th colSpan={3}></th>\r\n            <th style={styles.textCenter}>Total Discount</th>\r\n            <th style={styles.textRight}>{numberWithCommas(totalPrice)}</th>\r\n          </tr>\r\n          <tr>\r\n            <th colSpan={3}></th>\r\n            <th style={styles.textCenter}>Total</th>\r\n            <th style={styles.textRight}>{numberWithCommas(calDiscount)}</th>\r\n          </tr>\r\n          \r\n        </tfoot>\r\n      </Table>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default QuotationTable;\r\n"]},"metadata":{},"sourceType":"module"}