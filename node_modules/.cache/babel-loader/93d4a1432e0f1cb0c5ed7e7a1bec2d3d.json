{"ast":null,"code":"import _toConsumableArray from\"C:\\\\webdev\\\\mt\\\\react-quotation\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import _slicedToArray from\"C:\\\\webdev\\\\mt\\\\react-quotation\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useState,useRef,useEffect}from\"react\";import{Container,Row,Col,Table,Button}from\"react-bootstrap\";import{FaTrash}from'react-icons/fa';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={textCenter:{textAlign:\"center\"},textRight:{textAlign:\"right\"}};function QuotationTable(_ref){var data=_ref.data,setDataItems=_ref.setDataItems;var _useState=useState(),_useState2=_slicedToArray(_useState,2),dataRows=_useState2[0],setDataRows=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalPrice=_useState4[0],setTotalPrice=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),calDiscount=_useState6[0],setCalDiscount=_useState6[1];useEffect(function(){var sum=0;var discount=0;var disTol=0;var z=data.map(function(v,i){var amount=v.qty*v.ppu;var outDis=amount-v.dis;sum+=amount;disTol+=v.dis*1;if(sum<0)sum=0;discount+=outDis;if(discount<0)discount=0;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(FaTrash,{onClick:function onClick(){return deleteClick(i);}})}),/*#__PURE__*/_jsx(\"td\",{style:styles.textCenter,children:v.qty}),/*#__PURE__*/_jsx(\"td\",{children:v.item}),/*#__PURE__*/_jsx(\"td\",{style:styles.textRight,children:numberWithCommas(v.ppu)}),/*#__PURE__*/_jsx(\"td\",{style:styles.textRight,children:numberWithCommas(amount)}),/*#__PURE__*/_jsx(\"td\",{style:styles.textRight,children:numberWithCommas(v.dis)})]},i);});setDataRows(z);setTotalPrice(disTol);setCalDiscount(discount);},[data]);var deleteClick=function deleteClick(i){data.splice(i,1);setDataItems(_toConsumableArray(data));};var numberWithCommas=function numberWithCommas(x){return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");};var clearTable=function clearTable(){setDataItems([]);setDataRows([]);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Kasidit's Quotation Table\"})}),/*#__PURE__*/_jsx(Col,{style:styles.textRight,children:/*#__PURE__*/_jsx(Button,{onClick:clearTable,variant:\"dark\",children:\"Clear\"})})]}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Item\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price/Unit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Discount\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataRows}),/*#__PURE__*/_jsxs(\"tfoot\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{colSpan:3}),/*#__PURE__*/_jsx(\"th\",{style:styles.textCenter,children:\"Total Discount\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.textRight,children:numberWithCommas(totalPrice)})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{colSpan:3}),/*#__PURE__*/_jsx(\"th\",{style:styles.textCenter,children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.textRight,children:numberWithCommas(calDiscount)})]})]})]})]});}export default QuotationTable;","map":{"version":3,"sources":["C:/webdev/mt/react-quotation/src/QuotationTable.js"],"names":["useState","useRef","useEffect","Container","Row","Col","Table","Button","FaTrash","styles","textCenter","textAlign","textRight","QuotationTable","data","setDataItems","dataRows","setDataRows","totalPrice","setTotalPrice","calDiscount","setCalDiscount","sum","discount","disTol","z","map","v","i","amount","qty","ppu","outDis","dis","deleteClick","item","numberWithCommas","splice","x","toString","replace","clearTable"],"mappings":"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","sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\nimport { Container, Row, Col, Table, Button } from \"react-bootstrap\";\r\n\r\nimport { FaTrash } from 'react-icons/fa';\r\n\r\nconst styles = {\r\n  textCenter: { textAlign: \"center\" },\r\n  textRight: { textAlign: \"right\" },\r\n};\r\n\r\nfunction QuotationTable({ data, setDataItems }) {\r\n  const [dataRows, setDataRows] = useState();\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [calDiscount, setCalDiscount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let sum = 0;\r\n    let discount = 0;\r\n    let disTol = 0;\r\n    const z = data.map((v, i) => {\r\n      let amount = v.qty * v.ppu;\r\n      let outDis = amount - v.dis;\r\n      sum += amount;\r\n      disTol += v.dis * 1;\r\n      if (sum < 0) sum = 0;\r\n      discount += outDis;\r\n      if (discount < 0) discount = 0;\r\n      return (\r\n        <tr key={i}>\r\n          <td><FaTrash onClick={() => deleteClick(i)}/></td>\r\n          <td style={styles.textCenter}>{v.qty}</td>\r\n          <td>{v.item}</td>\r\n          <td style={styles.textRight}>{numberWithCommas(v.ppu)}</td>\r\n          <td style={styles.textRight}>{numberWithCommas(amount)}</td>\r\n          <td style={styles.textRight}>{numberWithCommas(v.dis)}</td>\r\n        </tr>\r\n      );\r\n    });\r\n\r\n    setDataRows(z);\r\n    setTotalPrice(disTol);\r\n    setCalDiscount(discount);\r\n  }, [data]);\r\n\r\n  const deleteClick = (i) => {\r\n    data.splice(i,1)\r\n    setDataItems([...data])\r\n  }\r\n\r\n  const numberWithCommas = (x) => {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  };\r\n\r\n  const clearTable = () => {\r\n    setDataItems([]);\r\n    setDataRows([]);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n          <h1>Kasidit's Quotation Table</h1>\r\n        </Col>\r\n        <Col style={styles.textRight}>\r\n          <Button onClick={clearTable} variant=\"dark\">\r\n            Clear\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th>Qty</th>\r\n            <th>Item</th>\r\n            <th>Price/Unit</th>\r\n            <th>Amount</th>\r\n            <th>Discount</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{dataRows}</tbody>\r\n        <tfoot>\r\n        <tr>\r\n          <th colSpan={3}></th>\r\n            <th style={styles.textCenter}>Total Discount</th>\r\n            <th style={styles.textRight}>{numberWithCommas(totalPrice)}</th>\r\n          </tr>\r\n          <tr>\r\n            <th colSpan={3}></th>\r\n            <th style={styles.textCenter}>Total</th>\r\n            <th style={styles.textRight}>{numberWithCommas(calDiscount)}</th>\r\n          </tr>\r\n          \r\n        </tfoot>\r\n      </Table>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default QuotationTable;\r\n"]},"metadata":{},"sourceType":"module"}